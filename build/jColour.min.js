(function(){var g,f,j,h,l;window.jColour=function(){function a(a){var b;if(b=a.match(/^#?([a-f0-9]{6,8})$/i))this.red=parseInt(b[1].substring(0,2),16),this.green=parseInt(b[1].substring(2,4),16),this.blue=parseInt(b[1].substring(4,6),16),this.alpha=b[1].substring(6,8)?parseInt(b[1].substring(6,8),16)/255:1,l(this);else if(b=a.match(/^rgba?\(\s*(\d+)[,\s]*(\d+)[,\s]*(\d+)[,\s]*([\.\d]+)?\s*\)$/i))this.red=b[1],this.green=b[2],this.blue=b[3],this.alpha=b[4]?b[4]:1,l(this);else if(a=a.match(/^hsla?\(\s*(\d+)[,\s]*(\d+)[,\s]*(\d+)[,\s]*([\.\d]+)?\s*\)$/i))this.hue=
a[1],this.saturation=a[2],this.lightness=a[3],this.alpha=a[4]?a[4]:1,f(this)}a.prototype.hex=function(){return this.alpha===1?"#"+g(this.red)+g(this.green)+g(this.blue):"#"+g(this.red)+g(this.green)+g(this.blue)+g(this.alpha*255)};a.prototype.rgb=function(){return this.alpha===1?"rgb("+Math.round(this.red)+", "+Math.round(this.green)+", "+Math.round(this.blue)+")":"rgba("+Math.round(this.red)+", "+Math.round(this.green)+", "+Math.round(this.blue)+", "+this.alpha.toPrecision(2)+")"};a.prototype.hsl=
function(){return this.alpha===1?"hsl("+Math.round(this.hue)+", "+Math.round(this.saturation)+", "+Math.round(this.lightness)+")":"hsla("+Math.round(this.hue)+", "+Math.round(this.saturation)+", "+Math.round(this.lightness)+", "+this.alpha.toPrecision(2)+")"};a.prototype.lighten=function(a){this.lightness+=a;return f(this)};a.prototype.lighten_percent=function(a){this.lightness+=this.lightness/100*a;return f(this)};a.prototype.darken=function(a){this.lightness-=a;return f(this)};a.prototype.darken_percent=
function(a){this.lightness-=this.lightness/100*a;return f(this)};a.prototype.saturate=function(a){this.saturation+=a;return f(this)};a.prototype.saturate_percent=function(a){this.saturation+=this.saturation/100*a;return f(this)};a.prototype.desaturate=function(a){this.saturation-=a;return f(this)};a.prototype.desaturate_percent=function(a){this.saturation-=this.saturation/100*a;return f(this)};a.prototype.adjust_hue=function(a){this.hue+=a;return f(this)};a.prototype.opacify=function(a){this.alpha+=
a;this.alpha=h(this.alpha,0,1);return this};a.prototype.transparentize=function(a){this.alpha-=a;this.alpha=h(this.alpha,0,1);return this};a.prototype.grayscale=function(){this.saturation=0;return f(this)};a.prototype.complement=function(){this.hue+=180;return f(this)};a.prototype.mix_with=function(c,b){var e,d;b==null&&(b=50);c instanceof a||(c=new a(c));d=b/100*2-1;e=c.alpha-this.alpha;e=((d*e===-1?d:(d+e)/(1+d*e))+1)/2;d=1-e;e={red:c.red*e+this.red*d,green:c.green*e+this.green*d,blue:c.blue*e+
this.blue*d};return new a("rgba("+Math.round(e.red)+", "+Math.round(e.green)+", "+Math.round(e.blue)+")")};return a}();l=function(a){var c,b,e,d,f,g,i,k,j;a.red=h(a.red,0,255);a.green=h(a.green,0,255);a.blue=h(a.blue,0,255);a.alpha=h(a.alpha,0,1);k=a.red/255;e=a.green/255;c=a.blue/255;g=Math.max(k,e,c);i=Math.min(k,e,c);d=f=(g+i)/2;if(g===i)d=i=0;else{b=g-i;i=f>0.5?b/(2-g-i):b/(g+i);switch(g){case k:d=(e-c)/b+((j=e<c)!=null?j:{6:0});break;case e:d=(c-k)/b+2;break;case c:d=(k-e)/b+4}d/=6}a.hue=d*360;
a.saturation=i*100;a.lightness=f*100;return a};f=function(a){var c,b,e,d,f;a.hue>360&&(a.hue-=Math.floor(a.hue/360)*360);a.hue<0&&(a.hue-=Math.ceil(a.hue/360)*360);a.saturation=h(a.saturation,0,100);a.lightness=h(a.lightness,0,100);a.alpha=h(a.alpha,0,1);c=a.hue/360;d=a.saturation/100;b=a.lightness/100;d===0?f=b=c=b:(d=b<0.5?b*(1+d):b+d-b*d,e=2*b-d,f=j(e,d,c+1/3),b=j(e,d,c),c=j(e,d,c-1/3));a.red=f*255;a.green=b*255;a.blue=c*255;return a};j=function(a,c,b){b<0&&(b+=1);b>1&&(b-=1);if(b<1/6)return a+
(c-a)*6*b;if(b<0.5)return c;if(b<2/3)return a+(c-a)*(2/3-b)*6;return a};g=function(a){a==null&&(a="00");a=parseInt(a);if(a===0||isNaN(a))return"00";a=Math.max(0,a);a=Math.min(a,255);a=Math.round(a);return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)};h=function(a,c,b){return Math.min(Math.max(a,c),b)}}).call(this);
